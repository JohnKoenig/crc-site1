<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" href="styles.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>

<script type="text/javascript">
    $(document).ready(function(){
        $.ajax({
            type: "Get",
            dataType: "json",
            url: "https://8ocu01tsn1.execute-api.us-east-2.amazonaws.com/Prod/johnkoenig_ninja_sitecounter/",
            success: function(data){
              console.log("Success", data);
                    const obj = JSON.parse(data);
                    console.log("Success", obj);
                    sCount = new String(obj.hit_count);
                    $('#visitcount').html(sCount)
            },
            error: function(data){
                console.log("Error", data);
            }
        });
    })
</script>

<body>
  <button onclick="goBack()">Go Back</button>
  <script>
    function goBack() {
    window.history.back();
    }
  </script>
  <p class="head">Cloud Resume Challenge Journey</p>
  <ul>
    <li>AWS S3</li>
      <ul>
        <li>HTML and CSS file storage</li>
        <li>Delivering Static Website</li>
      </ul>
    <li>Route 53</li>
     <ul>
       <li>Domain Registrar (johnkoenig.ninja)</li>
       <li>DNS Zone Management (johnkoenig.ninja)</li>
     </ul>
     <li>AWS Certificate Manager (SSL for johnkoenig.ninja)</li>
     <li>CloudFront (Redirect HTTP to HTTPS for johnkoenig.ninja)</li>
     <li>Lambda with Python</li>
     <li>API Gateway</li>
     <li>JavaScript to call the API Gateway, update the value, retreive the value, and reformat the data for HTML.</li>
  </ul>
  <p class="head">Other AWS Services Used</p>
  <ul>
    <li>Budgets (For monitoring AWS expense)</li>
    <li>Simple Notification Service (For AWS spending alerts)</li>
    <li>CodePipeline (Pipeline from GitHub to AWS S3)</li>
    <li><a href="https://github.com/JohnKoenig">GitHub</a></li>
  </ul>
  <p class="head">Cloud Resume Challenge Source</p>
  <ul>
    <li><a href="https://cloudresumechallenge.dev">https://cloudresumechallenge.dev</a></li>
  </ul>
  <p>Other Sites Used</p>
  <ul>
    <li><a href="https://medium.com/swlh/aws-api-gateway-lambda-dynamodb-71bb930abe51">Medium.com site</a></li>
    <li><a href="https://docs.aws.amazon.com/solutions/latest/constructs/walkthrough-part-2.html">AWS Walkthrough</a></li>
    <li><a href="https://www.w3schools.com/">www.w3schools.com</a></li>
    <li><a href="https://wordpress.com/">wordpress.com</a></li>
    <li><a href="https://www5.lunapic.com/editor/">lunapic</a></li>
  </ul>
  <h4>Test API Return: <label id="visitcount2">Nothing</label></h4>
  <iframe src="https://859njf4tz4.execute-api.us-east-2.amazonaws.com/Prod/hello/"></iframe>
  <iframe src="https://8ocu01tsn1.execute-api.us-east-2.amazonaws.com/Prod/johnkoenig_ninja_sitecounter/"></iframe>
  <iframe src="https://34vp8z8p64.execute-api.us-east-2.amazonaws.com/default/johnkoenig_ninja_counter"></iframe>
</body>
</html>

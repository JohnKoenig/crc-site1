<html>
    <head>
        <title>API Test Page</title>
        <script src='index.js' defer></script>
    </head>
    <iframe src="https://34vp8z8p64.execute-api.us-east-2.amazonaws.com/default/johnkoenig_ninja_counter"></iframe>
    <hr>
    
    <body>
        <div id="myData"></div>
        <script>
            fetch('https://34vp8z8p64.execute-api.us-east-2.amazonaws.com/default/johnkoenig_ninja_counter')
                .then(function (response) {
                    return response.json();
                })
                .then(function (data) {
                    appendData(data);
                })
                .catch(function (err) {
                    console.log('error: ' + err);
                });
            function appendData(data) {
                var mainContainer = document.getElementById("myData");
                for (var i = 0; i < data.length; i++) {
                    var div = document.createElement("div");
                    div.innerHTML = 'Name: ' + data[i].firstName + ' ' + data[i].lastName;
                    mainContainer.appendChild(div);
                }
            }
        </script>
    </body>
</html>